{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol3D.js"],"names":["U","D","E","o","getLogger","C","e","t","outline","s","l","material","color","r","toHex","a","type","width","i","size","toRgba","Math","min","q","h","n","v","c","g","u","b","A","H","m","N","style","toCss","x","y","src","height","T","$","B","F","x1","y1","x2","y2","colors","offset","Q","p","maxSize","disableUpsampling","symbolLayers","getItemAt","length","forEach","ceil","resource","href","thumbnail","url","Promise","resolve","S","styleOrigin","styleName","styleUrl","z","portal","catch","then","Z","get","K","j","max","shape","fill","stroke","push","symbolConfig","isTall","depth","G","primitive","cx","cy","path","command","values","w","k","d","J","value","error","warn","L","node","scale","opacity","pattern","f","join","M","X","reject","P","I","profile","pathSymbol3DLayer","V","W"],"mappings":"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","file":"static/js/171.40cbdc60.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.20/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import{toHSV as t,toRGB as s}from\"../../core/colorUtils.js\";import\"../../core/has.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{isNone as a,isSome as l}from\"../../core/maybe.js\";import{eachAlways as n}from\"../../core/promiseUtils.js\";import{pt2px as i}from\"../../core/screenUtils.js\";import{getPatternUrlWithColor as c,defaultThematicColor as h}from\"./gfxUtils.js\";import{defaultPrimitive as u}from\"./IconSymbol3DLayerResource.js\";import{defaultPrimitive as p}from\"./ObjectSymbol3DLayerResource.js\";import{adjustColorComponentBrightness as m,getPathSymbolShapes as f,shapes as y,getTetrahedronShapes as d,getDiamondShapes as b,getCylinderShapes as v,getCubeShapes as g,getInvertedConeShapes as k,getConeShapes as w,getWaterSymbolShapes as x,getExtrudeSymbolShapes as M}from\"./previewUtils.js\";import{renderSymbol as L,tintImageWithColor as j}from\"./renderUtils.js\";import{resolveWebStyleSymbol as z}from\"./styleUtils.js\";import{isVolumetricSymbol as P,getIconHref as S}from\"./utils.js\";const U=22,D=120,O=80,I=40,R=20,E=o.getLogger(\"esri.symbols.support.previewSymbol3D\");function C(e){const t=e.outline,s=l(e.material)?e.material.color:null,r=l(s)?s.toHex():null;if(a(t))return\"fill\"===e.type&&\"#ffffff\"===r?{color:\"#bdc3c7\",width:.75}:null;const o=i(t.size)||0;return{color:\"rgba(\"+(l(t.color)?t.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(o,O)}}function Z(t,s){const r=s&&s.resource,o=r&&r.href;if(t.thumbnail&&t.thumbnail.url)return Promise.resolve(t.thumbnail.url);if(o&&\"object\"!==s.type)return Promise.resolve(S(t,s));const a=e(\"esri/images/Legend/legend3dsymboldefault.png\");return t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)?z(t.styleOrigin,{portal:t.styleOrigin.portal},\"webRef\").catch((e=>e)).then((e=>{var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||a})):Promise.resolve(a)}function q(e,r=1){const o=e.a,a=t(e),l=a.h,n=a.s/r,i=100-(100-a.v)/r,{r:c,g:h,b:u}=s({h:l,s:n,v:i});return[c,h,u,o]}function A(e){return\"water\"===e.type?a(e.color)?null:e.color:a(e.material)||a(e.material.color)?null:e.material.color}function H(e,t=0){const s=A(e);if(!s){if(\"fill\"===e.type)return null;const s=h.r,r=m(s,t);return[r,r,r,100]}const r=s.toRgba();for(let o=0;o<3;o++)r[o]=m(r[o],t);return r}async function N(t,s){const r=t.style;if(\"none\"===r)return null;return{type:\"pattern\",x:0,y:0,src:await c(e(`esri/symbols/patterns/${r}.png`),s.toCss(!0)),width:5,height:5}}function T(e){return e.outline?C(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function $(e,t){const s=A(e);if(!s)return null;let r=\"rgba(\";return r+=m(s.r,t)+\",\",r+=m(s.g,t)+\",\",r+=m(s.b,t)+\",\",r+s.a+\");\"}function B(e,t){const s=$(e,t);if(!s)return{};return{color:s,width:Math.min(e.size?i(e.size):.75,O)}}function F(e,t,s){const r=.75*s;return{type:\"linear\",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function G(e){const t=e.depth,s=e.height,r=e.width;return r&&t&&s&&r===t&&r<s}function J(e,t,s){const r=[];if(!e)return r;switch(e.type){case\"icon\":{const s=0,o=0,a=t,l=t;switch(e.resource&&e.resource.primitive||u){case\"circle\":r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:H(e,0),stroke:C(e)});break;case\"square\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,l]},{command:\"L\",values:[s,o]},{command:\"L\",values:[a,o]},{command:\"L\",values:[a,l]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"triangle\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,l]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,l]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)});break;case\"cross\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*a,o]},{command:\"L\",values:[.5*a,l]},{command:\"M\",values:[s,.5*l]},{command:\"L\",values:[a,.5*l]}]},stroke:T(e)});break;case\"x\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,o]},{command:\"L\",values:[a,l]},{command:\"M\",values:[a,o]},{command:\"L\",values:[s,l]}]},stroke:T(e)});break;case\"kite\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,.5*l]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,.5*l]},{command:\"L\",values:[.5*a,l]},{command:\"Z\",values:[]}]},fill:H(e,0),stroke:C(e)})}break}case\"object\":switch(e.resource&&e.resource.primitive||p){case\"cone\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=w(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o});break}case\"inverted-cone\":{const s=H(e,0),o=F(s,H(e,-.6),t),a=k(t);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:s});break}case\"cube\":{const o=g(t,s);r.push({shape:o[0],fill:H(e,0)}),r.push({shape:o[1],fill:H(e,-.3)}),r.push({shape:o[2],fill:H(e,-.5)});break}case\"cylinder\":{const o=F(H(e,0),H(e,-.6),s?R:t),a=v(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o}),r.push({shape:a[2],fill:H(e,0)});break}case\"diamond\":{const s=b(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.3)}),r.push({shape:s[3],fill:H(e,-.7)});break}case\"sphere\":{const s=F(H(e,0),H(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:s});break}case\"tetrahedron\":{const s=d(t);r.push({shape:s[0],fill:H(e,-.3)}),r.push({shape:s[1],fill:H(e,0)}),r.push({shape:s[2],fill:H(e,-.6)});break}}break}return r}function K(e){return\"icon\"===e.type?\"multiply\":\"tint\"}function Q(e,t){const s=t&&t.size?i(t.size):null,r=t&&t.maxSize?i(t.maxSize):null,o=t&&t.disableUpsampling,a=e.symbolLayers,l=[];let c=0,h=0;const u=a.getItemAt(a.length-1);let p;return u&&\"icon\"===u.type&&(p=u.size&&i(u.size)),a.forEach((a=>{if(\"icon\"!==a.type&&\"object\"!==a.type)return;const n=\"icon\"===a.type?a.size&&i(a.size):0,u=s||n?Math.ceil(Math.min(s||n,r||D)):U;if(a&&a.resource&&a.resource.href){const t=Z(e,a).then((function(e){const t=a.get(\"material.color\"),s=K(a);return j(e,u,t,s,o)})).then((function(e){const t=e.width,s=e.height;return c=Math.max(c,t),h=Math.max(h,s),[{shape:{type:\"image\",x:0,y:0,width:t,height:s,src:e.url},fill:null,stroke:null}]}));l.push(t)}else{var m;let e=u;\"icon\"===a.type&&p&&s&&(e=u*(n/p));const r=\"tall\"===(null==t?void 0:t.symbolConfig)||(null==t||null==(m=t.symbolConfig)?void 0:m.isTall)||\"object\"===a.type&&G(a);c=Math.max(c,r?R:e),h=Math.max(h,e),l.push(Promise.resolve(J(a,e,r)))}})),n(l).then((function(e){const s=[];return e.forEach((function(e){e.value?s.push(e.value):e.error&&E.warn(\"error while building swatchInfo!\",e.error)})),L(s,[c,h],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function V(e,t){const s=e.symbolLayers,r=[],o=P(e),a=t&&t.size?i(t.size):null,l=(t&&t.maxSize?i(t.maxSize):null)||O;let n,c=0,h=0;return s.forEach(((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const s=[];switch(e.type){case\"line\":{const r=B(e,0),o=r&&r.width||0;0===t&&(n=o);const i=Math.min(a||o,l),u=0===t?i:a?i*(o/n):i,p=u>I/2?2*u:I;h=Math.max(h,u),c=Math.max(c,p),r.width=u,s.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*h]},{command:\"L\",values:[c,.5*h]}]},stroke:r});break}case\"path\":{const t=Math.min(a||U,l),r=H(e,0),n=H(e,-.2),u=$(e,-.4),p=u?{color:u,width:1}:{};if(\"quad\"===e.profile){var o,i;const t=null!=(o=e.width)?o:e.size,a=null!=(i=e.height)?i:e.size,l=f(t&&a?t/a:1,0===a,0===t),c={...p,join:\"bevel\"};s.push({shape:l[0],fill:n,stroke:c}),s.push({shape:l[1],fill:n,stroke:c}),s.push({shape:l[2],fill:r,stroke:c})}else s.push({shape:y.pathSymbol3DLayer[0],fill:n,stroke:p}),s.push({shape:y.pathSymbol3DLayer[1],fill:r,stroke:p});h=Math.max(h,t),c=h}}r.push(s)})),Promise.resolve(L(r,[c,h],{node:t&&t.node,scale:o,opacity:t&&t.opacity}))}async function W(e,t){const s=\"mesh-3d\"===e.type,r=e.symbolLayers,o=t&&t.size?i(t.size):null,a=t&&t.maxSize?i(t.maxSize):null,n=o||U,c=[];let h=0,u=0,p=!1;for(let i=0;i<r.length;i++){const e=r.getItemAt(i),t=[];if(s&&\"fill\"!==e.type)continue;const o=y.fill[0];switch(e.type){case\"fill\":{const r=C(e),i=Math.min(n,a||D);h=Math.max(h,i),u=Math.max(u,i),p=!0;let c=H(e,0);const m=\"pattern\"in e&&e.pattern,f=A(e);!s&&l(m)&&\"style\"===m.type&&\"solid\"!==m.style&&f&&(c=await N(m,f)),t.push({shape:o,fill:c,stroke:r});break}case\"line\":{const s={stroke:B(e,0),shape:o};h=Math.max(h,U),u=Math.max(u,U),t.push(s);break}case\"extrude\":{const s={join:\"round\",...B(e,-.4)},r=H(e,0),o=H(e,-.2),l=Math.min(n,a||D),i=M(l);s.width=1,t.push({shape:i[0],fill:o,stroke:s}),t.push({shape:i[1],fill:o,stroke:s}),t.push({shape:i[2],fill:r,stroke:s});const c=U,p=.7*U+.5*l;h=Math.max(h,c),u=Math.max(u,p);break}case\"water\":{const s=A(e),r=q(s),o=q(s,2),l=q(s,3),i=x();p=!0,t.push({shape:i[0],fill:r}),t.push({shape:i[1],fill:o}),t.push({shape:i[2],fill:l});const c=Math.min(n,a||D);h=Math.max(h,c),u=Math.max(u,c);break}}c.push(t)}return Promise.resolve(L(c,[h,u],{node:t&&t.node,scale:p,opacity:t&&t.opacity}))}function X(e,t){if(0===e.symbolLayers.length)return Promise.reject(new r(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));let s=null;switch(e.type){case\"point-3d\":s=Q(e,t);break;case\"line-3d\":s=V(e,t);break;case\"polygon-3d\":case\"mesh-3d\":s=W(e,t)}return s||Promise.reject(new r(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{N as getPatternDescriptor,H as getSymbolLayerFill,X as previewSymbol3D};\n"],"sourceRoot":""}